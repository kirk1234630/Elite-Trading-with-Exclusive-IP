// Add this to your script
async function getAIAnalysis(stock) {
    const OPENAI_API_KEY = 'your-api-key-here'; // Get from openai.com
    
    const prompt = `Analyze this stock with proprietary indicators:
    
    Symbol: ${stock.symbol}
    Price: $${stock.price}
    Mean Reversion: ${stock.meanRev} (< -2.0 = extreme oversold)
    RSI: ${stock.rsi}
    Institutional Score (Inst 33): ${stock.inst33} (> 55 = accumulation)
    Regime Detection: ${stock.regime}%
    Volatility: ${stock.volatility}%
    Sell Pressure: ${stock.sellPct}%
    
    Provide:
    1. Trade setup analysis
    2. Risk/reward assessment
    3. Entry/exit strategy
    4. Timeframe recommendation
    
    Be specific and actionable.`;
    
    try {
        const response = await fetch('https://api.openai.com/v1/chat/completions', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${OPENAI_API_KEY}`
            },
            body: JSON.stringify({
                model: 'gpt-4',
                messages: [{
                    role: 'user',
                    content: prompt
                }],
                temperature: 0.7,
                max_tokens: 500
            })
        });
        
        const data = await response.json();
        return data.choices[0].message.content;
        
    } catch (error) {
        console.error('AI Analysis failed:', error);
        return null;
    }
}
